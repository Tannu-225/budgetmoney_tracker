{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Daily Expense</title>
    <link rel="stylesheet" href="{% static 'expenses/css/style.css' %}" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body class="min-h-screen">
    <!-- Header -->
    <header class="header-gradient text-white py-6 px-4 sm:px-6 shadow-lg">
      <div class="max-w-7xl mx-auto">
        <div
          class="flex flex-col md:flex-row md:items-center md:justify-between"
        >
          <div class="flex items-center mb-4 md:mb-0">
            <i class="fas fa-wallet text-3xl mr-3"></i>
            <h1 class="text-2xl sm:text-3xl font-bold">ExpenseTracker</h1>
          </div>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 py-8">
      <!-- Summary Cards -->
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
        <!-- Balance Card -->
        <div class="balance-card bg-white shadow-md">
          <div class="p-5 border-b border-gray-100">
            <div class="flex justify-between items-center">
              <h3 class="text-gray-500 text-sm font-medium">Current Balance</h3>
              <i class="fas fa-wallet text-indigo-500"></i>
            </div>
            <p class="text-3xl font-bold mt-2" id="total-balance">$0.00</p>
          </div>
        </div>

        <!-- Total Credits Card -->
        <div class="balance-card bg-white shadow-md">
          <div class="p-5 border-b border-gray-100">
            <div class="flex justify-between items-center">
              <h3 class="text-gray-500 text-sm font-medium">Total Credits</h3>
              <i class="fas fa-arrow-up text-emerald-500"></i>
            </div>
            <p
              class="text-3xl font-bold mt-2 text-emerald-500"
              id="total-credits"
            >
              $0.00
            </p>
          </div>
        </div>

        <!-- Total Debits Card -->
        <div class="balance-card bg-white shadow-md">
          <div class="p-5 border-b border-gray-100">
            <div class="flex justify-between items-center">
              <h3 class="text-gray-500 text-sm font-medium">Total Debits</h3>
              <i class="fas fa-arrow-down text-red-500"></i>
            </div>
            <p class="text-3xl font-bold mt-2 text-red-500" id="total-debits">
              $0.00
            </p>
          </div>
        </div>
      </div>

      <!-- Add Transaction Form -->
      <div class="bg-white rounded-xl shadow-md p-6 mb-8">
        <h2 class="text-xl font-semibold mb-6">Add New Transaction</h2>
        <form
          id="transaction-form"
          class="grid grid-cols-1 md:grid-cols-2 gap-6"
        >
          <!-- Description Field -->
          <div>
            <label
              for="description"
              class="block text-sm font-medium text-gray-700 mb-1"
              >Description</label
            >
            <input
              type="text"
              id="description"
              name="description"
              class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"
              placeholder="Grocery shopping, Salary, etc."
              required
            />
          </div>

          <!-- Amount Field -->
          <div>
            <label
              for="amount"
              class="block text-sm font-medium text-gray-700 mb-1"
              >Amount ($)</label
            >
            <input
              type="number"
              id="amount"
              name="amount"
              step="0.01"
              min="0.01"
              class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"
              placeholder="0.00"
              required
            />
          </div>

          <!-- Category Field -->
          <div>
            <label
              for="category"
              class="block text-sm font-medium text-gray-700 mb-1"
              >Category</label
            >
            <select
              id="category"
              name="category"
              class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"
              required
            >
              <option value="" disabled selected>Select a category</option>
              <option value="Food">Food & Dining</option>
              <option value="Shopping">Shopping</option>
              <option value="Housing">Housing & Rent</option>
              <option value="Transportation">Transportation</option>
              <option value="Entertainment">Entertainment</option>
              <option value="Utilities">Utilities</option>
              <option value="Healthcare">Healthcare</option>
              <option value="Salary">Salary</option>
              <option value="Investment">Investment</option>
              <option value="Other">Other</option>
            </select>
          </div>

          <!-- Transaction Type Toggle -->
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1"
              >Transaction Type</label
            >
            <div class="flex items-center">
              <div
                class="relative inline-block w-16 h-8 mr-2 align-middle select-none"
              >
                <input
                  type="checkbox"
                  name="transaction-type"
                  id="transaction-type"
                  class="toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer top-1 left-1"
                />
                <label
                  for="transaction-type"
                  class="toggle-label block overflow-hidden h-8 rounded-full bg-gray-300 cursor-pointer"
                ></label>
              </div>
              <span id="transaction-type-text" class="text-gray-700"
                >Debit</span
              >
            </div>
          </div>

          <div class="md:col-span-2 mt-4">
            <button
              type="submit"
              class="w-full md:w-auto px-6 py-3 bg-indigo-600 text-white font-medium rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50 transition-all duration-200 flex items-center justify-center"
            >
              <i class="fas fa-plus-circle mr-2"></i>
              Add Transaction
            </button>
          </div>
        </form>
      </div>

      <!-- Filters -->
      <div class="bg-white rounded-xl shadow-md p-6 mb-8">
        <h2 class="text-xl font-semibold mb-4">Filter Transactions</h2>
        <div class="flex flex-wrap gap-4">
          <div class="w-full sm:w-auto">
            <label
              for="filter-type"
              class="block text-sm font-medium text-gray-700 mb-1"
              >Type</label
            >
            <select
              id="filter-type"
              class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"
            >
              <option value="all">All Transactions</option>
              <option value="credit">Credits Only</option>
              <option value="debit">Debits Only</option>
            </select>
          </div>

          <div class="w-full sm:w-auto">
            <label
              for="filter-category"
              class="block text-sm font-medium text-gray-700 mb-1"
              >Category</label
            >
            <select
              id="filter-category"
              class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"
            >
              <option value="all">All Categories</option>
              <option value="Food">Food & Dining</option>
              <option value="Shopping">Shopping</option>
              <option value="Housing">Housing & Rent</option>
              <option value="Transportation">Transportation</option>
              <option value="Entertainment">Entertainment</option>
              <option value="Utilities">Utilities</option>
              <option value="Healthcare">Healthcare</option>
              <option value="Salary">Salary</option>
              <option value="Investment">Investment</option>
              <option value="Other">Other</option>
            </select>
          </div>

          <div class="w-full sm:w-auto">
            <label
              for="filter-period"
              class="block text-sm font-medium text-gray-700 mb-1"
              >Time Period</label
            >
            <select
              id="filter-period"
              class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"
            >
              <option value="all">All Periods</option>
              <option value="weekly">Weekly</option>
              <option value="monthly">Monthly</option>
              <option value="yearly">Yearly</option>
            </select>
          </div>
        </div>
      </div>

      <!-- Transaction History -->
      <div class="bg-white rounded-xl shadow-md p-6">
        <h2 class="text-xl font-semibold mb-6">Transaction History</h2>

        <!-- Loading Placeholder -->
        <div id="loading-placeholder" class="hidden">
          <div class="loading-shimmer h-16 w-full rounded-lg mb-3"></div>
          <div class="loading-shimmer h-16 w-full rounded-lg mb-3"></div>
          <div class="loading-shimmer h-16 w-full rounded-lg mb-3"></div>
        </div>

        <!-- Empty State -->
        <div id="empty-state" class="text-center py-10">
          <i class="fas fa-receipt text-gray-300 text-5xl mb-4"></i>
          <h3 class="text-gray-500 text-lg mb-2">No transactions yet</h3>
          <p class="text-gray-400">Add your first transaction to get started</p>
        </div>

        <!-- Transaction List -->
        <div id="transaction-list" class="hidden space-y-4">
          <!-- Transactions will be dynamically added here -->
        </div>
      </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8 px-4 mt-12">
      <div class="max-w-7xl mx-auto">
        <div class="flex flex-col md:flex-row justify-between items-center">
          <div class="mb-4 md:mb-0">
            <h2 class="text-xl font-bold flex items-center">
              <i class="fas fa-wallet mr-2"></i> ExpenseTracker
            </h2>
            <p class="text-gray-400 mt-1">
              Keep track of your finances with ease
            </p>
          </div>
          <div class="flex space-x-4">
            <a href="javascript:void(0)" class="text-gray-400 hover:text-white">
              <i class="fab fa-twitter"></i>
            </a>
            <a href="javascript:void(0)" class="text-gray-400 hover:text-white">
              <i class="fab fa-instagram"></i>
            </a>
            <a href="javascript:void(0)" class="text-gray-400 hover:text-white">
              <i class="fab fa-github"></i>
            </a>
          </div>
        </div>
        <div
          class="mt-8 border-t border-gray-700 pt-6 text-center text-gray-400"
        >
          <p>&copy; ExpenseTracker. All rights reserved.</p>
        </div>
      </div>
    </footer>

    <!-- At the bottom include the JS script -->
    <script src="{% static 'expenses/js/app.js' %}"></script>
  </body>
</html>
